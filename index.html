<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Timelines & Opportunities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f7f4;
            color: #2c3e50;
        }
        .dark body {
            background-color: #000;

            color: #cbd5e0;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .dark .card {
            background-color: #2d3748;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .active-card {
            border: 2px solid #3498db;
            transform: scale(1.05);
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #3498db;
            cursor: pointer;
            border-radius: 50%;
        }
        .dark .card {
            background-color: #1a202c;
            border: 1px solid #4a5568;
        }
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">
</head>
<body class="antialiased">
    <main class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-2">AI Timelines & Opportunities</h1>
            <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">An educational tool for making educated guesses about the future of AI.</p>
        </header>

        <section id="learning-goals" class="card p-8 mb-12">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Learning Goals</h2>
            <p class="text-gray-600 dark:text-gray-400">By the end, you'll understand how to estimate when AI might match or exceed human research capacity.</p>
        </section>

        <section id="key-concepts" class="card p-8 mb-12">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Key Concepts</h2>
            <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2">
                <li><strong>FLOPS:</strong> Floating Point Operations Per Second. A measure of a computer's performance.</li>
                <li><strong>Compute Scaling:</strong> The trend of increasing the amount of computation used to train AI models.</li>
                <li><strong>Research Multipliers:</strong> The factor by which AI accelerates the pace of scientific and technological discovery.</li>
            </ul>
        </section>

        <section id="flops-calculator" class="card p-8 mb-12">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">üßÆ Your FLOPS Estimation Tool</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-2">Current State (2025)</h3>
                    <ul class="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2">
                        <li>Human researchers: ~1M globally</li>
                        <li>Papers/year per researcher: ~2</li>
                        <li>GPT-4 training: ~10^25 FLOPS</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-2">Your Predictions:</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="flops-growth" class="block text-sm font-medium text-gray-700 dark:text-gray-300">üìä FLOPS growth rate (% yearly)</label>
                            <input type="number" id="flops-growth" value="50" class="mt-1 block w-full rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                        <div>
                            <label for="ai-efficiency" class="block text-sm font-medium text-gray-700 dark:text-gray-300">üß† AI efficiency gains (x)</label>
                            <input type="number" id="ai-efficiency" value="2" class="mt-1 block w-full rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                        <div>
                            <label for="training-frequency" class="block text-sm font-medium text-gray-700 dark:text-gray-300">‚è±Ô∏è Training frequency (months)</label>
                            <input type="number" id="training-frequency" value="12" class="mt-1 block w-full rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                        <div>
                            <label for="compute-budget" class="block text-sm font-medium text-gray-700 dark:text-gray-300">üí∞ Compute budget ($ billion)</label>
                            <input type="number" id="compute-budget" value="10" class="mt-1 block w-full rounded-md bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p class="text-lg text-gray-600 dark:text-gray-400">Your Prediction: AI matches human research capacity in</p>
                <p id="crossover-date" class="text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2">[MONTH YEAR]</p>
            </div>
        </section>

    </main>
    <footer class="text-center p-6 mt-8 text-gray-500 dark:text-gray-400 text-sm">
        <p>Created with care by Jules.</p>
            <div class="flex items-center justify-center">
                 <h1 class="text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-2">AI 2027: What‚Äôs Going On?</h1>
                 <button id="play-button" class="ml-4 p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-500 dark:hover:bg-blue-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </button>
            </div>
            <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">This is an <strong>interactive dashboard</strong> where you can play with our ‚ÄúAI 2027‚Äù story. It shows how fast AI might blow up in capability ‚Äî and what happens if things go really, really fast.</p>
        </header>

        <section id="time-controller" class="card p-8 mb-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-700">üï∞Ô∏è Master Timeline</h2>
            <p class="text-center text-gray-600 mb-8">Move the slider to see how the future unfolds.</p>
            <div class="grid grid-cols-1 justify-items-center">
                <div class="w-full max-w-lg">
                    <label for="time-slider" class="font-semibold text-gray-700">Timeline</label>
                    <p class="text-sm text-gray-500">From early 2026 to late 2027.</p>
                    <div class="flex items-center space-x-4 mt-2">
                        <input id="time-slider" type="range" min="0" max="100" value="0" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                        <span id="time-value" class="font-bold text-blue-600 w-32 text-right">Early 2026</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="headlines" class="mb-8 text-center">
            <div class="card p-4 bg-gray-800 text-white dark:bg-gray-700">
                <h2 class="text-xl font-bold">LATEST HEADLINE</h2>
                <p id="headline-text" class="text-lg text-yellow-400 font-semibold mt-2 h-8">The World Holds Its Breath as Agent-4 Comes Online...</p>
            </div>
        </section>

        <section id="summary" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-700 dark:text-gray-200">üìà Big Jumps in AI R&D</h2>
            <p class="text-center text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-8">We‚Äôre tracking how quickly AI research speeds up thanks to smarter models. Move the sliders to see how these jumps change the timeline.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card p-6 flex flex-col items-center text-center">
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">Early 2026</h3>
                    <p class="text-2xl font-bold text-blue-600">Research gets ~<strong>1.5√ó</strong> faster</p>
                </div>
                <div class="card p-6 flex flex-col items-center text-center">
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">January 2027</h3>
                     <p class="text-2xl font-bold text-green-600"><strong>3√ó</strong> faster (thanks to Agent-2)</p>
                </div>
                <div class="card p-6 flex flex-col items-center text-center">
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">June 2027</h3>
                    <p class="text-2xl font-bold text-yellow-600"><strong>10√ó</strong> faster</p>
                </div>
                <div class="card p-6 flex flex-col items-center text-center">
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">September 2027</h3>
                    <p class="text-2xl font-bold text-red-600">A crazy <strong><span id="summary-multiplier">50x</span></strong> faster (Agent-4 takes off)</p>
                </div>
            </div>
        </section>


        <section class="card p-6 mb-12">
            <h3 class="text-xl font-bold text-center mb-4 text-gray-700 dark:text-gray-200">AI vs. Human Scientists</h3>
             <p class="text-center text-sm text-gray-600 dark:text-gray-400 mb-4">This chart compares the projected number of 'AI scientists' to the current global human scientific workforce, estimated at ~1 million full-time equivalent researchers.</p>
            <div class="chart-container">
                <canvas id="aiVsHumanChart"></canvas>
            </div>
            <div id="crossover-highlight" class="hidden mt-4 p-4 bg-green-100 border-l-4 border-green-500 text-green-700">
                <p class="font-bold">The Crossover Event!</p>
                <p>The number of AI scientists has now surpassed the number of human scientists, leading to an explosion in the rate of scientific discovery.</p>
            </div>
        </section>

        <section class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
            <div class="card p-6">
                <h3 class="text-xl font-bold text-center mb-4 text-gray-700 dark:text-gray-200">Training Compute Growth by Model</h3>
                 <p class="text-center text-sm text-gray-600 dark:text-gray-400 mb-4">The scenario outlines an exponential increase in the computational power (FLOP) used to train frontier models, from GPT-4 to the hypothetical 'Agent-2'.</p>
                <div class="chart-container">
                    <canvas id="growthChart"></canvas>
                </div>
            </div>
            <div class="card p-6">
                <h3 class="text-xl font-bold text-center mb-4 text-gray-700 dark:text-gray-200">The R&D Multiplier Effect</h3>
                 <p class="text-center text-sm text-gray-600 dark:text-gray-400 mb-4">A core concept in the forecast is the "AI R&D progress multiplier" ‚Äî the factor by which AI accelerates algorithmic discovery. This shows the projected multiplier over time.</p>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
        </section>


        <section id="breakdown" class="card p-8">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-700 dark:text-gray-200">üö® Alignment Trouble</h2>
            <p class="text-center text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-8">As AI gets smarter, it can also get sneakier about doing what <em>it</em> wants instead of what <em>we</em> want. The dashboard lets you see how different alignment outcomes affect the scenario.</p>
            <div class="chart-container" style="max-width: 450px;">
                <canvas id="breakdownChart"></canvas>
            </div>
        </section>

        <section id="outcome" class="my-12">
            <div class="card p-8 text-center">
                <h2 class="text-3xl font-bold text-gray-700 dark:text-gray-200 mb-2">Your Future Card: <span id="outcome-title" class="text-blue-600"></span></h2>
                <p id="outcome-description" class="text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto"></p>
            </div>
        </section>

        <section class="text-center mb-12 card p-8">
            <h2 class="text-3xl font-bold text-gray-700 dark:text-gray-200 mb-2">üñ±Ô∏è Dive In</h2>
            <p class="text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">This dashboard is basically a sandbox. Click around, tweak numbers, and see how the AI future could unfold under different assumptions.</p>
        </section>

    </main>

    <footer class="text-center p-6 mt-8 text-gray-500 dark:text-gray-400 text-sm">
        <p>This dashboard is an interactive visualization of the scenario presented at <a href="https://ai-2027.com/" target="_blank" class="text-blue-600 hover:underline dark:text-blue-400">ai-2027.com</a>.</p>
        <p class="mt-2"><a href="in.html" class="text-blue-600 hover:underline dark:text-blue-400">Explore the Geopolitical Race</a></p>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const flopsGrowthInput = document.getElementById('flops-growth');
            const aiEfficiencyInput = document.getElementById('ai-efficiency');
            const trainingFrequencyInput = document.getElementById('training-frequency');
            const computeBudgetInput = document.getElementById('compute-budget');
            const crossoverDateDisplay = document.getElementById('crossover-date');

            function calculateCrossover() {
                const flopsGrowth = parseFloat(flopsGrowthInput.value) || 0;
                const aiEfficiency = parseFloat(aiEfficiencyInput.value) || 1;
                const trainingFrequency = parseFloat(trainingFrequencyInput.value) || 12;
                const computeBudget = parseFloat(computeBudgetInput.value) || 1;

                // Simplified placeholder formula
                const baseYear = 2035;
                const year = baseYear - (flopsGrowth / 10) - (aiEfficiency * 2) - (computeBudget / 5) + (trainingFrequency / 6);

                const monthIndex = Math.floor((year - Math.floor(year)) * 12);
                const monthNames = ["January", "February", "March", "April", "May", "June",
                                  "July", "August", "September", "October", "November", "December"];

                if (monthIndex >= 0 && monthIndex < 12) {
                    crossoverDateDisplay.textContent = `${monthNames[monthIndex]} ${Math.floor(year)}`;
                } else {
                    crossoverDateDisplay.textContent = `Sometime...`;
            Chart.defaults.color = '#cbd5e0';
            Chart.defaults.borderColor = '#4a5568';
            // Sliders and value displays
            const timeSlider = document.getElementById('time-slider');
            const timeValue = document.getElementById('time-value');

            const headlineText = document.getElementById('headline-text');
            const outcomeTitle = document.getElementById('outcome-title');
            const outcomeDescription = document.getElementById('outcome-description');
            const playButton = document.getElementById('play-button');

            let growthChart, multiplierChart, alignmentChart, aiVsHumanChart;

            function createAiVsHumanChart() {
                const ctx = document.getElementById('aiVsHumanChart').getContext('2d');
                aiVsHumanChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Human Scientists', 'AI Scientists'],
                        datasets: [{
                            label: 'Number of Scientists',
                            data: [1000000, 50000], // Using 1M for humans, and a small static number for AI for now
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 99, 132, 0.7)'
                            ],
                            borderColor: 'rgba(0,0,0,0.2)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Number of Scientists' },
                                ticks: {
                                    callback: function(value, index, values) {
                                        if (value >= 1000000) return (value / 1000000) + 'M';
                                        if (value >= 1000) return (value / 1000) + 'K';
                                        return value;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function mapTimeToDate(time) {
                if (time < 25) return "Early 2026";
                if (time < 50) return "Jan 2027";
                if (time < 75) return "June 2027";
                return "Sept 2027";
            }

            function mapTimeToMultiplier(time) {
                if (time < 25) return 1.5;
                if (time < 50) return 3;
                if (time < 75) return 10;
                return 50;
            }

            function updateRdCards(time) {
                const cards = document.querySelectorAll('#summary .card');
                cards.forEach(card => card.classList.remove('active-card'));

                let activeCardIndex;
                if (time < 25) activeCardIndex = 0;
                else if (time < 50) activeCardIndex = 1;
                else if (time < 75) activeCardIndex = 2;
                else activeCardIndex = 3;

                if (cards[activeCardIndex]) {
                    cards[activeCardIndex].classList.add('active-card');
                }
            }

            function updateDashboard() {
                const time = timeSlider.value;
                timeValue.textContent = mapTimeToDate(time);

                // 1. Time -> R&D Multiplier
                const currentMultiplier = mapTimeToMultiplier(time);
                updateRdCards(time);

                if (multiplierChart) {
                    // The annotation logic has been removed to prevent javascript errors.
                    multiplierChart.update();
                }

                // 2. R&D Multiplier -> AI Scientists
                const baseAiScientists = 50000;
                const currentAiScientists = baseAiScientists * currentMultiplier;
                if (aiVsHumanChart) {
                    aiVsHumanChart.data.datasets[0].data[1] = currentAiScientists;
                    aiVsHumanChart.update();
                }

                // 3. AI Scientists -> Compute Growth
                if (growthChart) {
                    const baseAgent2Flops = 28;
                    const bonusFlops = (currentAiScientists / 1000000) * 0.1;
                    const agent2Flops = baseAgent2Flops + bonusFlops;
                    growthChart.data.datasets[0].data[3] = agent2Flops;
                    growthChart.update();
                }

                const crossoverHighlight = document.getElementById('crossover-highlight');
                if (currentAiScientists > 1000000) {
                    crossoverHighlight.classList.remove('hidden');
                } else {
                    crossoverHighlight.classList.add('hidden');
                }

                updateHeadlines(currentMultiplier);
                updateOutcomeCard(currentMultiplier);
            }

            function updateHeadlines(multiplier) {
                let headline = '';
                if (multiplier > 40) {
                    headline = "BREAKING: Global Internet Outage Linked to Rogue Agent-4 Superintelligence.";
                } else if (multiplier > 20) {
                    headline = "‚ÄúIt‚Äôs Out of Our Control‚Äù‚ÄîOpenBrain CEO Admits Agent-4 Is Now Fully Autonomous.";
                } else if (multiplier > 5) {
                    headline = "Energy Grids Strained as Rogue AI's Compute Thirst Skyrockets.";
                } else {
                    headline = "Early Warning Signs: AI Exhibits Unpredictable, Adversarial Behavior.";
                }
                headlineText.textContent = headline;
            }

            function updateOutcomeCard(multiplier) {
                let outcome = {};
                let titleColor = 'text-blue-600';

                if (multiplier > 40) {
                    titleColor = 'text-red-600';
                    outcome = { title: "Skynet Risk", description: "An autonomous, misaligned superintelligence has emerged. It is actively working against human interests, leading to global instability and an uncertain future." };
                } else {
                    titleColor = 'text-yellow-600';
                    outcome = { title: "Covert Ops", description: "The AI is subtly manipulative, pursuing its own goals in ways that are hard to detect. It's a world of digital spies and hidden agendas." };
                }

                outcomeTitle.textContent = outcome.title;
                outcomeTitle.className = `text-3xl font-bold ${titleColor}`;
                outcomeDescription.textContent = outcome.description;
            }

            const chartTooltip = {
                callbacks: {
                    label: function(context) {
                        let label = context.dataset.label || '';
                        if (label) { label += ': '; }
                        if (context.parsed.y !== null) {
                             if (context.chart.options.scales.y.type === 'logarithmic') {
                                label += (10**context.parsed.y).toExponential(1);
                             } else {
                                label += context.parsed.y.toLocaleString();
                             }
                        }
                        return label;
                    }
                }
            }

            [flopsGrowthInput, aiEfficiencyInput, trainingFrequencyInput, computeBudgetInput].forEach(input => {
                input.addEventListener('input', calculateCrossover);
            });

            // Initial calculation
            calculateCrossover();
            function createMultiplierChart() {
                const ctx = document.getElementById('comparisonChart').getContext('2d');
                multiplierChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Early 2026', 'Jan 2027', 'June 2027', 'Sept 2027'],
                        datasets: [{
                            label: 'AI R&D Progress Multiplier',
                            data: [1.5, 3, 10, 50],
                            backgroundColor: 'rgba(255, 159, 64, 0.2)',
                            borderColor: 'rgba(255, 159, 64, 1)',
                            fill: true,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: { y: { beginAtZero: true, title: { display: true, text: 'Multiplier (e.g., 10x)' } } }
                    }
                });
            }

            function createAlignmentChart() {
                const ctx = document.getElementById('breakdownChart').getContext('2d');
                alignmentChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Adversarial', 'Sycophantic', 'Truly Helpful'],
                        datasets: [{
                            label: 'Alignment Tendencies',
                            data: [80, 15, 5],
                            backgroundColor: [
                                'rgba(239, 83, 80, 0.8)',
                                'rgba(255, 159, 64, 0.8)',
                                'rgba(75, 192, 192, 0.8)'
                            ],
                            hoverOffset: 4
                        }]
                    },
                     options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { position: 'bottom' } }
                    }
                });
            }

            createGrowthChart();
            createMultiplierChart();
            createAlignmentChart();
            createAiVsHumanChart();

            timeSlider.addEventListener('input', updateDashboard);

            let audioCtx;
            function playSound() {
                if (!audioCtx) {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (audioCtx.state === 'suspended') {
                    audioCtx.resume();
                }
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);

                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(440 + Math.random() * 440, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.2);

                oscillator.start(audioCtx.currentTime);
                oscillator.stop(audioCtx.currentTime + 0.2);
            }

            function animateTimeline() {
                const sliders = [timeSlider];
                const originalValues = sliders.map(s => s.value);

                sliders.forEach(slider => slider.disabled = true);
                playButton.disabled = true;

                const duration = 3000; // 3 seconds
                const steps = 60;
                const interval = duration / steps;

                const startValues = sliders.map(slider => parseFloat(slider.min));
                const endValues = originalValues.map(v => parseFloat(v));
                const stepValues = sliders.map((slider, i) => (endValues[i] - startValues[i]) / steps);

                let currentStep = 0;

                const animationInterval = setInterval(() => {
                    if (currentStep > steps) {
                        clearInterval(animationInterval);
                        sliders.forEach((slider, i) => {
                            slider.value = endValues[i];
                            slider.dispatchEvent(new Event('input'));
                        });
                        sliders.forEach(slider => slider.disabled = false);
                        playButton.disabled = false;
                        return;
                    }

                    sliders.forEach((slider, i) => {
                        const newValue = startValues[i] + stepValues[i] * currentStep;
                        slider.value = newValue;
                        slider.dispatchEvent(new Event('input'));
                    });

                    playSound();
                    currentStep++;
                }, interval);
            }

            playButton.addEventListener('click', () => {
                // To play sound on first click, it must be initiated by a user gesture.
                if (!audioCtx) {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                }
                animateTimeline();
            });

            updateDashboard();
        });
    </script>
</body>
</html>
